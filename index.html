
<html>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Permanent+Marker&family=Staatliches&display=swap');
        body{
            display:flex;
            align-items:center;
            justify-content:center;
            flex-direction: column;
            background-color:#000;
        }

        .player{
            position:relative;
            width:40%;
            height:18%;
            border:2px solid blue;
            margin:2px;
            text-align: center;
            color:#FFF;
            font-family:'Staatliches';
            display:flex;
            align-items:center;
            justify-content:center;
        }
    </style>
    <body>
        <div id="matchup_display" style="position:relative;margin-top:200px;height:500px;width:800px;pointer-events:none;display:flex;align-items:center;justify-content:center;flex-direction:row;flex-wrap:wrap;">
            <div id="t1_top" class="player">
                <div style="position:absolute;background-image:url('https://i.imgur.com/EeIP0f7.png');height:50px;width:50px;background-size:100%;box-shadow:inset 0px 0px 100px #000"></div>
                <div id="t1_top_name" style="position:absolute;top:0px;left:5px;font-size:35px;font-style:italic;"></div>
                <div id="t1_top_rank" style="position:absolute;bottom:0px;left:5px;font-size:30px;"></div>
                <div id="t1_top_roles" style="position:absolute;bottom:0px;right:5px;font-size:20px;"></div>
            </div>
            <div id="t2_top" class="player">
                <div style="position:absolute;background-image:url('https://i.imgur.com/EeIP0f7.png');height:50px;width:50px;background-size:100%;box-shadow:inset 0px 0px 100px #000"></div>
                <div id="t2_top_name" style="position:absolute;top:0px;right:5px;font-size:35px;font-style:italic;"></div>
                <div id="t2_top_rank" style="position:absolute;bottom:0px;left:5px;font-size:30px;"></div>
                <div id="t2_top_roles" style="position:absolute;bottom:0px;right:5px;font-size:20px;"></div>
            </div>
            <div id="t1_jng" class="player">
                <div style="position:absolute;background-image:url('https://i.imgur.com/dsNzJIw.png');height:50px;width:50px;background-size:100%;box-shadow:inset 0px 0px 100px #000"></div>
                <div id="t1_jng_name" style="position:absolute;top:0px;left:5px;font-size:35px;font-style:italic;"></div>
                <div id="t1_jng_rank" style="position:absolute;bottom:0px;left:5px;font-size:30px;"></div>
                <div id="t1_jng_roles" style="position:absolute;bottom:0px;right:5px;font-size:20px;"></div>
            </div>
            <div id="t2_jng" class="player">
                <div style="position:absolute;background-image:url('https://i.imgur.com/dsNzJIw.png');height:50px;width:50px;background-size:100%;box-shadow:inset 0px 0px 100px #000"></div>
                <div id="t2_jng_name" style="position:absolute;top:0px;right:5px;font-size:35px;font-style:italic;"></div>
                <div id="t2_jng_rank" style="position:absolute;bottom:0px;left:5px;font-size:30px;"></div>
                <div id="t2_jng_roles" style="position:absolute;bottom:0px;right:5px;font-size:20px;"></div>
            </div>
            <div id="t1_mid" class="player">
                <div style="position:absolute;background-image:url('https://i.imgur.com/SGd9sK5.png');height:50px;width:50px;background-size:100%;box-shadow:inset 0px 0px 100px #000"></div>
                <div id="t1_mid_name" style="position:absolute;top:0px;left:5px;font-size:35px;font-style:italic;"></div>
                <div id="t1_mid_rank" style="position:absolute;bottom:0px;left:5px;font-size:30px;"></div>
                <div id="t1_mid_roles" style="position:absolute;bottom:0px;right:5px;font-size:20px;"></div>
            </div>
            <div id="t2_mid" class="player">
                <div style="position:absolute;background-image:url('https://i.imgur.com/SGd9sK5.png');height:50px;width:50px;background-size:100%;box-shadow:inset 0px 0px 100px #000"></div>
                <div id="t2_mid_name" style="position:absolute;top:0px;right:5px;font-size:35px;font-style:italic;"></div>
                <div id="t2_mid_rank" style="position:absolute;bottom:0px;left:5px;font-size:30px;"></div>
                <div id="t2_mid_roles" style="position:absolute;bottom:0px;right:5px;font-size:20px;"></div>
            </div>
            <div id="t1_adc" class="player">
                <div style="position:absolute;background-image:url('https://i.imgur.com/06ZpGot.png');height:50px;width:50px;background-size:100%;box-shadow:inset 0px 0px 100px #000"></div>
                <div id="t1_adc_name" style="position:absolute;top:0px;left:5px;font-size:35px;font-style:italic;"></div>
                <div id="t1_adc_rank" style="position:absolute;bottom:0px;left:5px;font-size:30px;"></div>
                <div id="t1_adc_roles" style="position:absolute;bottom:0px;right:5px;font-size:20px;"></div>
            </div>
            <div id="t2_adc" class="player">
                <div style="position:absolute;background-image:url('https://i.imgur.com/06ZpGot.png');height:50px;width:50px;background-size:100%;box-shadow:inset 0px 0px 100px #000"></div>
                <div id="t2_adc_name" style="position:absolute;top:0px;right:5px;font-size:35px;font-style:italic;"></div>
                <div id="t2_adc_rank" style="position:absolute;bottom:0px;left:5px;font-size:30px;"></div>
                <div id="t2_adc_roles" style="position:absolute;bottom:0px;right:5px;font-size:20px;"></div>
            </div>
            <div id="t1_sup" class="player">
                <div style="position:absolute;background-image:url('https://i.imgur.com/KLbG8CP.png');height:50px;width:50px;background-size:100%;box-shadow:inset 0px 0px 100px #000"></div>
                <div id="t1_sup_name" style="position:absolute;top:0px;left:5px;font-size:35px;font-style:italic;"></div>
                <div id="t1_sup_rank" style="position:absolute;bottom:0px;left:5px;font-size:30px;"></div>
                <div id="t1_sup_roles" style="position:absolute;bottom:0px;right:5px;font-size:20px;"></div>
            </div>
            <div id="t2_sup" class="player">
                <div style="position:absolute;background-image:url('https://i.imgur.com/KLbG8CP.png');height:50px;width:50px;background-size:100%;box-shadow:inset 0px 0px 100px #000"></div>
                <div id="t2_sup_name" style="position:absolute;top:0px;right:5px;font-size:35px;font-style:italic;"></div>
                <div id="t2_sup_rank" style="position:absolute;bottom:0px;left:5px;font-size:30px;"></div>
                <div id="t2_sup_roles" style="position:absolute;bottom:0px;right:5px;font-size:20px;"></div>
            </div>
        </div>
        <textarea style="position:relative;overflow:hidden;background-color: #000;margin-top:10px;color:#FFF;width:200px;" id="player_list" name="Player List" placeholder="Insert Player List Here"></textarea>
        <button style="position:relative;background-color: #000;color:#FFF;margin-top:10px;" onclick="import_players()">Import Players</button>
        <div style="position:absolute;margin-top:-570px;text-align:center;font-size:50px;font-family:'Permanent Marker';color:orange;text-shadow:0px 0px 4px red;">VS</div>
        <div style="position:absolute;margin-top:-590px;margin-left:-500px;text-align:center;font-size:50px;font-family:'Permanent Marker';color:orange;text-shadow:0px 0px 4px red;">Team One</div>
        <div style="position:absolute;margin-top:-590px;margin-left:500px;text-align:center;font-size:50px;font-family:'Permanent Marker';color:orange;text-shadow:0px 0px 4px red;">Team Two</div>

        <div style="position:absolute;bottom:10px;color:grey;font-family:'';font-size:15px">
            <b>How to create player list.</b><br>
            1) One player per line. <br>
            2) Do not include any spaces in the player name. <br>
            3) Ranks are formatted like so: Bronze 1 = B1, Gold 1 = G1, etc... (Do not include LP for higher ranks: Masters = M, GrandMasters = GM, Challenger = C) <br>
            4) Main-Role and Off-Role are formatted like so: Top = TOP, Jungle = JNG, Mid = MID, Adc = ADC, Support = SUP. <br> <br>
            Example Formatting (Case Sensitive!): <br>
            Player1 G3 TOP MID <br>
            Player2 S2 JNG ADC <br>
            etc...
        </div>

        <div style="position:absolute;top:10px;color:grey;font-family:'';font-size:15px">
            <b>League of Legends Custom Game Balancer Tool</b><br>
            v0.1 Beta <br>
            Made by: Burrito Knight(NA)<br><br>
            How to use:<br>
            1) Enter Player List (Minimum 10 Players)<br>
            2) Spam Import Players Button (Just a few times)<br>
            3) Enjoy your generated matchup! (If nothing shows up the player skill difference is too high to balance!)<br>
        </div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script>
            var players = [];
            var player = [];
            var player_score = [];
            var team_one = ["TOP", "JNG", "MID", "ADC", "SUP"];
            var team_two = ["TOP", "JNG", "MID", "ADC", "SUP"];
            var team_one_score = [];
            var team_two_score = [];
            var team_catalog = [];
            var balance_scores = [];
            let closest = 0;
            var strictness = 30;
            function import_players(){
                var players = $('#player_list').val().split('\n');
                for (let i = 0; i < (players.length*20); i++) {
                    shuffle(players);
                    for (let i = 0; i < players.length; i++) {
                        player[i] = players[i].split(" ");
                            if (player[i][1] == "I4"){player[i].push("1")}
                        else if (player[i][1] == "I3"){player[i].push("2")}
                        else if (player[i][1] == "I2"){player[i].push("3")}
                        else if (player[i][1] == "I1"){player[i].push("4")}
                        else if (player[i][1] == "B4"){player[i].push("7")}
                        else if (player[i][1] == "B3"){player[i].push("8")}
                        else if (player[i][1] == "B2"){player[i].push("9")}
                        else if (player[i][1] == "B1"){player[i].push("10")}
                        else if (player[i][1] == "S4"){player[i].push("12")}
                        else if (player[i][1] == "S3"){player[i].push("14")}
                        else if (player[i][1] == "S2"){player[i].push("16")}
                        else if (player[i][1] == "S1"){player[i].push("18")}
                        else if (player[i][1] == "G4"){player[i].push("20")}
                        else if (player[i][1] == "G3"){player[i].push("24")}
                        else if (player[i][1] == "G2"){player[i].push("28")}
                        else if (player[i][1] == "G1"){player[i].push("32")}
                        else if (player[i][1] == "P4"){player[i].push("38")}
                        else if (player[i][1] == "P3"){player[i].push("44")}
                        else if (player[i][1] == "P2"){player[i].push("50")}
                        else if (player[i][1] == "P1"){player[i].push("56")}
                        else if (player[i][1] == "D4"){player[i].push("70")}
                        else if (player[i][1] == "D3"){player[i].push("90")}
                        else if (player[i][1] == "D2"){player[i].push("120")}
                        else if (player[i][1] == "D1"){player[i].push("150")}
                        else if (player[i][1] == "M") {player[i].push("200")}
                        else if (player[i][1] == "GM"){player[i].push("300")}
                        else if (player[i][1] == "C") {player[i].push("400")}
                        else{};
                    }
                    for (let i = 0; i < players.length; i++) {
                        if ((player[i][2] == "TOP") && (team_one[0] == "TOP")){team_one[0] = (player[i])}
                        else if ((player[i][2] == "TOP") && (team_two[0] == "TOP") && (((player[i][4]) - (team_one[0][4]) > -strictness) && ((player[i][4]) - (team_one[0][4]) < strictness))){team_two[0] = (player[i])} 
                        else if ((player[i][2] == "JNG") && (team_one[1] == "JNG")){team_one[1] = (player[i])}
                        else if ((player[i][2] == "JNG") && (team_two[1] == "JNG") && (((player[i][4]) - (team_one[0][4]) > -strictness) && ((player[i][4]) - (team_one[0][4]) < strictness))){team_two[1] = (player[i])}
                        else if ((player[i][2] == "MID") && (team_one[2] == "MID")){team_one[2] = (player[i])}
                        else if ((player[i][2] == "MID") && (team_two[2] == "MID") && (((player[i][4]) - (team_one[0][4]) > -strictness) && ((player[i][4]) - (team_one[0][4]) < strictness))){team_two[2] = (player[i])}
                        else if ((player[i][2] == "ADC") && (team_one[3] == "ADC")){team_one[3] = (player[i])}
                        else if ((player[i][2] == "ADC") && (team_two[3] == "ADC") && (((player[i][4]) - (team_one[0][4]) > -strictness) && ((player[i][4]) - (team_one[0][4]) < strictness))){team_two[3] = (player[i])}
                        else if ((player[i][2] == "SUP") && (team_one[4] == "SUP")){team_one[4] = (player[i])}
                        else if ((player[i][2] == "SUP") && (team_two[4] == "SUP") && (((player[i][4]) - (team_one[0][4]) > -strictness) && ((player[i][4]) - (team_one[0][4]) < strictness))){team_two[4] = (player[i])}

                        else if ((player[i][3] == "TOP") && (team_one[0] == "TOP")){player[i][4] = (player[i][4]) - (player[i][4] * 0.2), team_one[0] = (player[i])}
                        else if ((player[i][3] == "TOP") && (team_two[0] == "TOP") && (((player[i][4]) - (team_one[0][4]) > -strictness) && ((player[i][4]) - (team_one[0][4]) < strictness))){player[i][4] = (player[i][4]) - (player[i][4] * 0.2), team_two[0] = (player[i])} 
                        else if ((player[i][3] == "JNG") && (team_one[1] == "JNG")){player[i][4] = (player[i][4]) - (player[i][4] * 0.2), team_one[1] = (player[i])}
                        else if ((player[i][3] == "JNG") && (team_two[1] == "JNG") && (((player[i][4]) - (team_one[0][4]) > -strictness) && ((player[i][4]) - (team_one[0][4]) < strictness))){player[i][4] = (player[i][4]) - (player[i][4] * 0.2), team_two[1] = (player[i])}
                        else if ((player[i][3] == "MID") && (team_one[2] == "MID")){player[i][4] = (player[i][4]) - (player[i][4] * 0.2), team_one[2] = (player[i])}
                        else if ((player[i][3] == "MID") && (team_two[2] == "MID") && (((player[i][4]) - (team_one[0][4]) > -strictness) && ((player[i][4]) - (team_one[0][4]) < strictness))){player[i][4] = (player[i][4]) - (player[i][4] * 0.2), team_two[2] = (player[i])}
                        else if ((player[i][3] == "ADC") && (team_one[3] == "ADC")){player[i][4] = (player[i][4]) - (player[i][4] * 0.2), team_one[3] = (player[i])}
                        else if ((player[i][3] == "ADC") && (team_two[3] == "ADC") && (((player[i][4]) - (team_one[0][4]) > -strictness) && ((player[i][4]) - (team_one[0][4]) < strictness))){player[i][4] = (player[i][4]) - (player[i][4] * 0.2), team_two[3] = (player[i])}
                        else if ((player[i][3] == "SUP") && (team_one[4] == "SUP")){player[i][4] = (player[i][4]) - (player[i][4] * 0.2), team_one[4] = (player[i])}
                        else if ((player[i][3] == "SUP") && (team_two[4] == "SUP") && (((player[i][4]) - (team_one[0][4]) > -strictness) && ((player[i][4]) - (team_one[0][4]) < strictness))){player[i][4] = (player[i][4]) - (player[i][4] * 0.2), team_two[4] = (player[i])}
                        else{};
                    }
                    team_one_score = (parseInt(team_one[0][4])) + (parseInt(team_one[1][4])) + (parseInt(team_one[2][4])) + (parseInt(team_one[3][4])) + (parseInt(team_one[4][4]));
                    team_two_score = (parseInt(team_two[0][4])) + (parseInt(team_two[1][4])) + (parseInt(team_two[2][4])) + (parseInt(team_two[3][4])) + (parseInt(team_two[4][4]));
                    team_catalog.push ([(team_one_score - team_two_score), team_one, team_two]);
                    balance_scores.push ((Math.abs((parseInt(team_one[0][4])) - (parseInt(team_two[0][4]))) + Math.abs((parseInt(team_one[1][4])) - (parseInt(team_two[1][4]))) + Math.abs((parseInt(team_one[2][4])) - (parseInt(team_two[2][4]))) + Math.abs((parseInt(team_one[3][4])) - (parseInt(team_two[3][4]))) + Math.abs((parseInt(team_one[4][4])) - (parseInt(team_two[4][4])))));
                    player = [];
                    player_score = [];
                    team_one = ["TOP", "JNG", "MID", "ADC", "SUP"];
                    team_two = ["TOP", "JNG", "MID", "ADC", "SUP"];
                    team_one_score = [];
                    team_two_score = [];
                    console.log(i + "Team Comp Generated");
                }
                closestToZero(balance_scores);

                function closestToZero(numbers) {                    
                    for (let i = 0; i < numbers.length ; i++) {
                        if (closest === 0) {
                            closest = numbers[i];
                        } else if (numbers[i] > 0 && numbers[i] <= Math.abs(closest)) {
                            closest = numbers[i];
                        }
                        console.log(closest);
                    }

                    $('#t1_top_name').html((team_catalog[numbers.indexOf(closest)][1][0][0]));
                    $('#t1_top_rank').html((team_catalog[numbers.indexOf(closest)][1][0][1]));
                    $('#t1_top_roles').html((team_catalog[numbers.indexOf(closest)][1][0][2]) + ", " + (team_catalog[numbers.indexOf(closest)][1][0][3]) + " " + (team_catalog[numbers.indexOf(closest)][1][0][4]));
                    $('#t2_top_name').html((team_catalog[numbers.indexOf(closest)][2][0][0]));
                    $('#t2_top_rank').html((team_catalog[numbers.indexOf(closest)][2][0][1]));
                    $('#t2_top_roles').html((team_catalog[numbers.indexOf(closest)][2][0][2]) + ", " + (team_catalog[numbers.indexOf(closest)][2][0][3]) + " " + (team_catalog[numbers.indexOf(closest)][2][0][4]));

                    $('#t1_jng_name').html((team_catalog[numbers.indexOf(closest)][1][1][0]));
                    $('#t1_jng_rank').html((team_catalog[numbers.indexOf(closest)][1][1][1]));
                    $('#t1_jng_roles').html((team_catalog[numbers.indexOf(closest)][1][1][2]) + ", " + (team_catalog[numbers.indexOf(closest)][1][1][3]) + " " + (team_catalog[numbers.indexOf(closest)][1][1][4]));
                    $('#t2_jng_name').html((team_catalog[numbers.indexOf(closest)][2][1][0]));
                    $('#t2_jng_rank').html((team_catalog[numbers.indexOf(closest)][2][1][1]));
                    $('#t2_jng_roles').html((team_catalog[numbers.indexOf(closest)][2][1][2]) + ", " + (team_catalog[numbers.indexOf(closest)][2][1][3]) + " " + (team_catalog[numbers.indexOf(closest)][2][1][4]));

                    $('#t1_mid_name').html((team_catalog[numbers.indexOf(closest)][1][2][0]));
                    $('#t1_mid_rank').html((team_catalog[numbers.indexOf(closest)][1][2][1]));
                    $('#t1_mid_roles').html((team_catalog[numbers.indexOf(closest)][1][2][2]) + ", " + (team_catalog[numbers.indexOf(closest)][1][2][3]) + " " + (team_catalog[numbers.indexOf(closest)][1][2][4]));
                    $('#t2_mid_name').html((team_catalog[numbers.indexOf(closest)][2][2][0]));
                    $('#t2_mid_rank').html((team_catalog[numbers.indexOf(closest)][2][2][1]));
                    $('#t2_mid_roles').html((team_catalog[numbers.indexOf(closest)][2][2][2]) + ", " + (team_catalog[numbers.indexOf(closest)][2][2][3]) + " " + (team_catalog[numbers.indexOf(closest)][2][2][4]));

                    $('#t1_adc_name').html((team_catalog[numbers.indexOf(closest)][1][3][0]));
                    $('#t1_adc_rank').html((team_catalog[numbers.indexOf(closest)][1][3][1]));
                    $('#t1_adc_roles').html((team_catalog[numbers.indexOf(closest)][1][3][2]) + ", " + (team_catalog[numbers.indexOf(closest)][1][3][3]) + " " + (team_catalog[numbers.indexOf(closest)][1][3][4]));
                    $('#t2_adc_name').html((team_catalog[numbers.indexOf(closest)][2][3][0]));
                    $('#t2_adc_rank').html((team_catalog[numbers.indexOf(closest)][2][3][1]));
                    $('#t2_adc_roles').html((team_catalog[numbers.indexOf(closest)][2][3][2]) + ", " + (team_catalog[numbers.indexOf(closest)][2][3][3]) + " " + (team_catalog[numbers.indexOf(closest)][2][3][4]));

                    $('#t1_sup_name').html((team_catalog[numbers.indexOf(closest)][1][4][0]));
                    $('#t1_sup_rank').html((team_catalog[numbers.indexOf(closest)][1][4][1]));
                    $('#t1_sup_roles').html((team_catalog[numbers.indexOf(closest)][1][4][2]) + ", " + (team_catalog[numbers.indexOf(closest)][1][4][3]) + " " + (team_catalog[numbers.indexOf(closest)][1][4][4]));
                    $('#t2_sup_name').html((team_catalog[numbers.indexOf(closest)][2][4][0]));
                    $('#t2_sup_rank').html((team_catalog[numbers.indexOf(closest)][2][4][1]));
                    $('#t2_sup_roles').html((team_catalog[numbers.indexOf(closest)][2][4][2]) + ", " + (team_catalog[numbers.indexOf(closest)][2][4][3]) + " " + (team_catalog[numbers.indexOf(closest)][2][4][4]));
                }
            }   
            function shuffle(a){for(var j,i=a.length-1;i>0;i--){j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]]}}

            function import_players_refresh(){
                players = [];
                player = [];
                player_score = [];
                team_one = ["TOP", "JNG", "MID", "ADC", "SUP"];
                team_two = ["TOP", "JNG", "MID", "ADC", "SUP"];
                team_one_score = [];
                team_two_score = [];
                team_catalog = [];
                balance_scores = [];
                closest = 0;
                strictness = 50;
                team_catalog = [];
                import_players();
            }
        </script>
    </body>
</html>
